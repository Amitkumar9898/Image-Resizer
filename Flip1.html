

<html>

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="flip.css" />
    <title>IMAGE RESIZER</title>
</head>

<body>
    <div class="header">
        <div><i class="gg-head"></i></div>
        <div>
            <a href="index.html">Image Resizer.com</a>
        </div>
        <ul class="list">
            <li>
                <a class="headlist" href="index.html">
                    <div class="headdlist1">
                        <span>Image Shrinker</span>
                    </div>
                </a>
            </li>
            <li>
                <a class="headlist" href="cropindex.html">
                    <div class="headdlist1">
                        <span>Image Crop</span>
                    </div>
                </a>
            </li>
            <li>
                <a class="headlist" href="flipindex.html">
                    <div class="headdlist1">
                        <span>Image Flip</span>
                    </div>
                </a>
            </li>
        </ul>
    </div>
    <div class="hr01"></div>
    <div class="fullborder">
        <div class="mainbody">
            <div class="resize active">
                <a href="index1.html">
                    <button id="button1">
                        <i class="gg-resize"></i>
                        <span style="font-size:21px; margin-left:5px;">Resize</span>
                    </button>
                </a>
            </div>
            <div class="crop active">
                <a href="crop1.html">
                    <button id="button2">
                        <i class="gg-crop"></i>
                        <span style="font-size:21px; margin-left:5px;">Crop</span>
                    </button>
                </a>
            </div>
            <div class="fliprotate active">
                <a href="flip1.html">
                    <button id="button3">
                        <i class="gg-flip"></i>
                        <span style="font-size:21px; margin-left: 5px;">Fliprotate</span>
                    </button>
                </a>
            </div>
            <div class="hr"></div>
            <div class="text">
                Flip & Rotate Setting
            </div>
            <div class="text0">
                Flip Image
            </div>
            <div class="horizontal">
                <div class="centerh">
                    <button onclick="myFunction()"><i class="gg-fliph"></i></button>
                </div>
                <div class="text1">
                    Horizontal
                </div>
            </div>
            <div class="vertical">
                <div class="centerv">
                    <button onclick="myFunction1()"><i class="gg-flipv"></i></button>
                </div>
                <div class="text12">
                    Vertical
                </div>
            </div>
            <div class="hr1"></div>
            <div class="text01">
                Rotate Image
            </div>
            <div class="horizontal1">
                <div class="centerh1">
                    <button onclick="rotateImg()"><i class="gg-clock"></i></button>
                </div>
                <div class="textc">
                    Clock-Wise
                </div>
            </div>
            <div class="vertical1">
                <div class="centerv">
                    <button onclick="rotateImg1()"><i class="gg-anticlock"></i></button>
                </div>
                <div class="textv">
                    Anti-Clock Wise
                </div>
            </div>
            <div><canvas id="canvas"></canvas></div>
            <div><button class="download">Download Image</button></div>
        </div>
        <div class="view">
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <center><img onclick="this.style.transform='rotate(270deg)'" id="preview" height="400px" width="400px"
                    src="" alt="thumbnail"></img></center>
        </div>
        <div class="hr2"></div>
        
        <script>
            function myFunction() {
                var styles = document.getElementById('preview').style;
                if (styles.transform === 'scaleX(-1)')
                    styles.transform = 'scaleX(1)';
                else
                    styles.transform = 'scaleX(-1)';
            }
            function myFunction1() {
                var styles = document.getElementById('preview').style;
                if (styles.transform === 'scaleY(-1)')
                    styles.transform = 'scaleY(1)';
                else
                    styles.transform = 'scaleY(-1)';
            }
            function rotateImg() {
                var styles = document.getElementById('preview').style;
                if (styles.transform === 'rotate(0deg)')
                    styles.transform = 'rotate(90deg)'
                else if (styles.transform === 'rotate(90deg)')
                    styles.transform = 'rotate(180deg)';
                else if (styles.transform === 'rotate(180deg)')
                    styles.transform = 'rotate(270deg)';
                else if (styles.transform === 'rotate(270deg)')
                    styles.transform = 'rotate(360deg)';
                else
                    styles.transform = 'rotate(0deg)';
            }
            function rotateImg1() {
                var styles = document.getElementById('preview').style;
                if (styles.transform === 'rotate(360deg)')
                    styles.transform = 'rotate(270deg)';
                else if (styles.transform === 'rotate(270deg)')
                    styles.transform = 'rotate(180deg)';
                else if (styles.transform === 'rotate(180deg)')
                    styles.transform = 'rotate(90deg)';
                else if (styles.transform === 'rotate(90deg)')
                    styles.transform = 'rotate(0deg)';
                else
                    styles.transform = 'rotate(360deg)';
            }

            const downloadBtn = document.querySelector("button.download");

            downloadBtn.addEventListener('click', function () {
                let tempLink = document.createElement('a');

                let fileName = `image.jpg`;

                tempLink.download = fileName;
                tempLink.href = document.getElementById('canvas').toDataURL("image/png");

                tempLink.click();
            });


            async function upload(value) {
                console.log("value", value.value)
                let ele = document.getElementById('preview')
                ele.setAttribute('height', value.value)
                ele.setAttribute('width', value.value)
            }
            window.onload = function () {
                set()
            }
            function set() {
                const thumbnail = localStorage.getItem('thumbnail');
                const previewImage = document.getElementById('preview');
                console.log(previewImage, previewImage.src);
                if (thumbnail) {
                    console.log("if");
                    previewImage.src = thumbnail;
                } else {
                    console.log("else");
                    previewImage.src = 'https://m.media-amazon.com/images/I/51JyAXaBz3L.j'
                }
            }
        </script>
</body>

</html>